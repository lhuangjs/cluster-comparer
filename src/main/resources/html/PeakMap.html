<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
    <meta charset="UTF-8">
    <title>Peak Map</title>
    <!--import echarts.js-->
    <script src="../js/echarts.js"></script>
</head>
<body style="height: 100%; margin: 0">
<div id="container" style="height: 100%"></div>
<div id="mess" style="height: 100%; border: 2px solid red"></div>

<script type="text/javascript">
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom, null, {renderer: 'svg'});

    var option = {
        title: {
            text: 'Peak Map'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        // legend: {
        //     data: ['利润', '支出', '收入']
        // },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                name: 'm/z',
                axisTick: {show: false},
                data: []
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        dataZoom:[
            {
                type: 'slider',
            },
            {
                // support slide with mouse and wheel in coordinate system
                type: 'inside'
            }
        ],
        series: [
            {
                name: '',
                type: 'bar',
                stack: 'spectrum',
                data: []
            },
            {
                name: '',
                type: 'bar',
                stack: 'spectrum',
                data: []
            }
        ]
    };
    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }

    /**update data**/
    function updateSingleSpectrum(mzValue, intensityValue){
        alert(mzValue[0]);
        document.getElementById("mess").innerHTML="<h1>" + mzValue[0] + "</h1>";
        option.xAxis[0].data = mzValue;
        option.series[0].data = intensityValue;
        myChart.setOption(option, true);
    }

    function updateMultiSpectrum(mzValue, intensityValue0, intensityValue1){
        document.getElementById("mess").innerHTML="<h1>" + mzValue[0] + "</h1>";

        option.xAxis[0].data = mzValue;
        option.series[0].data = intensityValue0;
        option.series[1].data = intensityValue1;
        myChart.setOption(option, true);
    }

    function test() {
        return "hello javafx";
    }
</script>
</body>
</html>